(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{492:function(e,t,n){Promise.resolve().then(n.bind(n,3311))},3311:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var a=n(7437),i=n(2265),r=n(7639),l=n(6207),s=n(5002),o=n(1899),c=n(7404),d=n(4013),u=n(1327),h=n(20),m=n(7414),p=n(2441),g=n(4338),x=n(2614),y=n(5330),f=n(4902),v=n(9832),j=n(7666),Z=n(4255),w=n(3253),S=n(8057),b=n(2400),k=n(1610);function T(e){let{prayer:t,onEdit:n,onSave:r,onPrint:l,onSaveToWord:s,onTTS:c,onSaveToPrayerList:g}=e,[x,y]=(0,i.useState)(!1),[T,C]=(0,i.useState)(t),[z,I]=(0,i.useState)(!1),[D,P]=(0,i.useState)(null),[E,A]=(0,i.useState)(-1),[B,O]=(0,i.useState)("web"),[L,W]=(0,i.useState)(!1),[N,K]=(0,i.useState)(!1),[R,_]=(0,i.useState)(null),M=(0,i.useRef)(null),U=(0,i.useRef)([]);(0,i.useEffect)(()=>{C(t)},[t]),(0,i.useEffect)(()=>{P(window.speechSynthesis)},[]);let q=e=>{let t=e.split(/\n\s*\n/),n=[];return t.forEach(e=>{let t=e.split(/([,.])/g).map(e=>e.trim()).filter(e=>e.length>0);for(let e=0;e<t.length;e+=2){let a=t[e],i=t[e+1]||"";n.push(a+i)}}),n},J=()=>{if(-1===E)return;let e=document.querySelector('[data-sentence-index="'.concat(E,'"]'));e&&e.scrollIntoView({behavior:"smooth",block:"center"})};(0,i.useEffect)(()=>{J()},[E]);let G=async()=>{try{let e=await navigator.mediaDevices.getUserMedia({audio:!0}),t=new MediaRecorder(e);M.current=t,U.current=[],t.ondataavailable=e=>{e.data.size>0&&U.current.push(e.data)},t.onstop=()=>{let e=new Blob(U.current,{type:"audio/wav"});_(e)},t.start(),K(!0)}catch(e){console.error("녹음 시작 실패:",e),alert("녹음을 시작할 수 없습니다. 마이크 권한을 확인해주세요.")}};return(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(o.Z,{sx:{mt:2,mb:3,height:"500px",transition:"height 0.3s ease-in-out",overflow:"auto",border:"1px solid",borderColor:"divider",borderRadius:1,p:3,backgroundColor:"#fff",fontFamily:'"나눔명조", serif',fontSize:"1rem",lineHeight:1.8,color:"text.primary","& h2":{color:"primary.main",fontSize:"1.2rem",fontWeight:600,mt:3,mb:2,"&:first-of-type":{mt:0}},"& blockquote":{borderLeft:"4px solid",borderColor:"primary.light",bgcolor:"grey.50",px:2,py:1,my:2},"& p":{my:1.5}},children:x?(0,a.jsx)("textarea",{value:T,onChange:e=>C(e.target.value),style:{width:"100%",height:"100%",padding:"1rem",fontSize:"1rem",lineHeight:"1.8",fontFamily:'"나눔명조", serif',resize:"none",border:"none",outline:"none",backgroundColor:"transparent"}}):(0,a.jsx)(o.Z,{sx:{height:"100%",overflow:"auto"},dangerouslySetInnerHTML:{__html:(e=>{let t=e.split(/\n\s*\n/),n=0,a="";return t.forEach(e=>{let t=e.split(/([,.])/g).map(e=>e.trim()).filter(e=>e.length>0),i="";for(let e=0;e<t.length;e+=2){let a=t[e]+(t[e+1]||""),r=n===E?"background-color: #ffeb3b;":"",l=a.replace(/## (.*)/g,'<h2 style="color: #1976d2; font-size: 1.2rem; margin-top: 1.5rem; margin-bottom: 1rem;">$1</h2>').replace(/\*\*(.*?)\*\*/g,'<strong style="font-weight: 600;">$1</strong>').replace(/\*(.*?)\*/g,'<em style="color: #666;">$1</em>').replace(/> (.*)/g,'<blockquote style="border-left: 4px solid #90caf9; padding-left: 1rem; margin: 1rem 0; background-color: #f5f5f5;"><p style="margin: 0.5rem 0;">$1</p></blockquote>');i+='<span data-sentence-index="'.concat(n,'" style="').concat(r,'">').concat(l,"</span> "),n++}a+='<p style="margin: 1rem 0;">'.concat(i.trim(),"</p>")}),a})(T)}})}),(0,a.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"space-between",mt:2},children:[(0,a.jsxs)(o.Z,{sx:{display:"flex",gap:.5},children:[(0,a.jsx)(d.Z,{variant:"contained",size:"small",onClick:x?()=>{y(!1),W(!1),r(T)}:()=>{y(!0),W(!0),n()},sx:{minWidth:"80px"},children:x?"수정완료":"수정하기"}),(0,a.jsx)(d.Z,{variant:"outlined",size:"small",onClick:l,sx:{minWidth:"80px"},children:"출력하기"}),(0,a.jsx)(d.Z,{variant:"outlined",size:"small",onClick:s,sx:{minWidth:"80px"},children:"Word저장"}),(0,a.jsxs)(o.Z,{sx:{ml:3,display:"flex",alignItems:"center",gap:.5},children:[(0,a.jsxs)(u.Z,{size:"small",sx:{minWidth:120},children:[(0,a.jsx)(h.Z,{id:"tts-select-label",children:"음성(TTS)"}),(0,a.jsxs)(m.Z,{labelId:"tts-select-label",value:B,onChange:e=>O(e.target.value),size:"small",label:"음성(TTS)",children:[(0,a.jsx)(p.Z,{value:"web",children:"Web Speech API"}),(0,a.jsx)(p.Z,{value:"microsoft",children:"Microsoft Edge TTS"}),(0,a.jsx)(p.Z,{value:"google",children:"Google Translate TTS"})]})]}),(0,a.jsx)(f.Z,{title:"TTS 재생",children:(0,a.jsx)(v.Z,{onClick:()=>{if(D){if(z)D.pause(),I(!1),W(!1);else{W(!0);let e=q(T),t=0,n=()=>{if(t>=e.length){I(!1),A(-1);return}switch(B){case"web":let a=new SpeechSynthesisUtterance(e[t]);a.lang="ko-KR",a.rate=1,a.pitch=1,a.volume=1,a.onend=()=>{A(++t),n()},A(t),D.speak(a);break;case"microsoft":let i=new SpeechSynthesisUtterance(e[t]);i.lang="ko-KR",i.voice=D.getVoices().find(e=>e.name.includes("Microsoft")&&e.lang.includes("ko"))||null,i.onend=()=>{A(++t),n()},A(t),D.speak(i);break;case"google":let r=new SpeechSynthesisUtterance(e[t]);r.lang="ko-KR";let l=D.getVoices(),s=l.find(e=>e.name.includes("Google")&&e.lang.includes("ko"))||l.find(e=>e.name.includes("Google"))||null;s&&(r.voice=s),r.onend=()=>{A(++t),n()},A(t),D.speak(r)}};n(),I(!0)}}},color:z?"primary":"default",size:"small",children:z?(0,a.jsx)(Z.Z,{}):(0,a.jsx)(j.Z,{})})}),(0,a.jsx)(f.Z,{title:"TTS 중지",children:(0,a.jsx)(v.Z,{onClick:()=>{D&&(D.cancel(),I(!1),A(-1),W(!1))},color:"default",size:"small",children:(0,a.jsx)(w.Z,{})})})]}),(0,a.jsxs)(o.Z,{sx:{ml:2,display:"flex",alignItems:"center",gap:.5},children:[(0,a.jsx)(f.Z,{title:N?"녹음 중지":"녹음 시작",children:(0,a.jsx)(v.Z,{onClick:N?()=>{M.current&&N&&(M.current.stop(),M.current.stream.getTracks().forEach(e=>e.stop()),K(!1))}:G,color:N?"error":"default",size:"small",children:N?(0,a.jsx)(b.Z,{}):(0,a.jsx)(S.Z,{})})}),R&&(0,a.jsx)(f.Z,{title:"녹음 파일 저장",children:(0,a.jsx)(v.Z,{onClick:()=>{if(R){let e=URL.createObjectURL(R),t=document.createElement("a");t.href=e,t.download="기도문_녹음_".concat(new Date().toISOString().slice(0,19).replace(/:/g,"-"),".wav"),document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(e)}},color:"primary",size:"small",children:(0,a.jsx)(k.Z,{})})})]})]}),(0,a.jsx)(d.Z,{variant:"contained",color:"primary",size:"small",onClick:g,sx:{minWidth:"100px"},children:"기도문 저장"})]})]})}var C=n(6433);async function z(e,t){let n=new C.ZP({apiKey:e,dangerouslyAllowBrowser:!0}),a="\n[역할]: 당신은 숙련된 목회자입니다. \n\n[지시]: 예배용 기도문을 마크다운 형식으로 작성해야 합니다.\n\n[파라미터]:\n- 예배종류: ".concat(t.serviceType,"\n- 기도순서구조: ").concat(t.usePrayerStructure?"사용":"미사용","\n- 스타일: ").concat(t.style,"\n- 대상자: ").concat(t.audience,"\n- 특이사항: ").concat(t.specialNotes,"\n- 기도문 길이: ").concat(t.length,"분\n\n[파라미터 적용]:\n1. 반드시 기도문의 작성은 예배종류(").concat(t.serviceType,"), 스타일(").concat(t.style,"), 대상자(").concat(t.audience,")에 맞도록 작성한다.\n2. 기도순서구조: ").concat(t.usePrayerStructure?"사용":"미사용"," 사용 시 아래 순서에 따라 작성한다.\n  예) 찬양→회개→감사→중보(나라, 교회, 성도, 다음 세대)→간구(성도, 선교, 지체, 중직자, 교역자, 설교)→결단\n3. 반드시 기도문 길이( ").concat(t.length,"분)는 아래와 같은 길이에 맞도록 작성한다.\n  예) 1분: 300자, 2분: 600자, 3분: 900자, 4분: 1200자, 5분: 1500자, 6분: 1800자, 7분: 2100자\n  - 중보와 간구는 다른 기도 순서보다 3~5배 정도로 길게 기도문 길이를 조절한다.\n4. 특이사항: ").concat(t.specialNotes,' 특이사항을 내용에 맞게 중보 또는 간구에 포함하여 기도문을 작성한다.\n\n[요구사항]:\n- 한국적 정서를 반영하여 경건하고, 존경과 겸손이 느껴지는 표현을 사용한다. \n- 성경구절을 일부만 인용하여 기도가 하나님의 말씀에 근거하여 작성한다.\n- 성경적 언어(예: "주께서 인도하시나이다", "주의 은혜 안에 거하나이다") 적극 활용한다. \n- 찬양, 회개, 감사, 중보, 간구, 결단의 흐름을 자연스럽게 연결한다. \n- 기도문에 여호와의 증인, 신천지, 동일교, 구원파 등의 이단적 사상이나 표현을 일절 포함하지 않습니다.\n- 각 기도 순서별로 2~4개 이상 문장 이상 구성하고, 너무 복잡하거나 장황하지 않으며, 은혜롭고 간결하게 작성한다. \n- 전통적 예배 문맥을 고려해 존댓말을 사용한다. \n- 하나님의 위대하심과 은혜를 강조한다. \n- 성도들에게 위로와 도전을 주는 표현 추가한다. \n- 반드시 기도문은 낭독하기 편한 형태로 작성한다.\n- 기도문의 제일 위에 기도문의 내용에 부합하는 성경구절(개역개정판)을 포함하되 따움표("")로 구분한다.\n- 기도문의 마지막은 반드시 "이 모든 말씀, 우리 구주 예수 그리스도의 이름으로 기도드립니다. 아멘."으로 끝내주세요.\n\n[마크다운 형식 요구사항]:\n1. 각 기도 섹션(찬양, 회개, 감사 등)은 기도문에 출력하지 않는다.\n2. 각 섹션은 빈 줄로 구분한다.\n3. HTML 태그를 사용하지 않는다.\n4. 순수 마크다운 문법만 사용한다.\n\n');try{return(await n.chat.completions.create({messages:[{role:"user",content:a}],model:t.model})).choices[0].message.content||"기도문 생성에 실패했습니다."}catch(e){throw console.error("Error generating prayer:",e),Error("기도문 생성 중 오류가 발생했습니다.")}}var I=n(257);async function D(e){try{let t=await fetch("https://texttospeech.googleapis.com/v1/text:synthesize",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(I.env.GOOGLE_CLOUD_API_KEY)},body:JSON.stringify({input:{text:e},voice:{languageCode:"ko-KR",name:"ko-KR-Neural2-D"},audioConfig:{audioEncoding:"MP3"}})});if(!t.ok)throw Error("음성 변환에 실패했습니다.");return(await t.json()).audioContent}catch(e){throw console.error("Error in text to speech:",e),Error("음성 변환 중 오류가 발생했습니다.")}}var P=n(432),E=n(12);async function A(e){let{prayer:t,serviceType:n,style:a,audience:i,length:r}=e,l=new P.BBB({sections:[{children:[new P.nvN({children:[new P.hal({text:"\uD83D\uDCC4 기도문",bold:!0,size:28}),new P.hal("\n\n"),new P.hal({text:"예배 종류: ".concat(n,"\n스타일: ").concat(a,"\n대상자: ").concat(i,"\n길이: ").concat(r,"분\n\n"),size:20}),new P.hal({text:t,size:24})]})]}]}),s=await P.UDs.toBlob(l);if("showSaveFilePicker"in window){let e=await window.showSaveFilePicker({suggestedName:"기도문.docx",types:[{description:"Word Document",accept:{"application/vnd.openxmlformats-officedocument.wordprocessingml.document":[".docx"]}}]}),t=await e.createWritable();await t.write(s),await t.close()}else(0,E.saveAs)(s,"기도문.docx");return!0}function B(e){try{{let t=JSON.stringify(e);localStorage.setItem("prayerSettings",t)}}catch(e){console.error("설정 저장 중 오류 발생:",e)}}function O(e){{let t=localStorage.getItem("savedPrayers"),n=t?JSON.parse(t):[],a=n.findIndex(t=>new Date(t.date).toLocaleDateString()===new Date(e.date).toLocaleDateString()&&t.serviceType===e.serviceType&&t.style===e.style&&t.audience===e.audience&&t.length===e.length);-1!==a?n[a].content=e.content:n.push(e),localStorage.setItem("savedPrayers",JSON.stringify(n))}}var L=n(3392),W=n(9507),N=n(7468),K=n(9026);function R(e){let{open:t,title:n,message:i,confirmText:r="예",cancelText:l="아니오",onConfirm:o,onCancel:c}=e;return(0,a.jsxs)(L.Z,{open:t,onClose:c,PaperProps:{sx:{width:"100%",maxWidth:400,borderRadius:2}},children:[(0,a.jsx)(W.Z,{sx:{bgcolor:"primary.main",color:"white",py:1.5},children:n}),(0,a.jsx)(N.Z,{sx:{mt:2},children:(0,a.jsx)(s.Z,{children:i})}),(0,a.jsxs)(K.Z,{sx:{px:3,pb:2},children:[(0,a.jsx)(d.Z,{onClick:c,variant:"outlined",color:"inherit",children:l}),(0,a.jsx)(d.Z,{onClick:o,variant:"contained",color:"primary",autoFocus:!0,children:r})]})]})}function _(){let[e,t]=(0,i.useState)(""),[n,f]=(0,i.useState)("gpt-4.1"),[v,j]=(0,i.useState)("sunday"),[Z,w]=(0,i.useState)("traditional"),[S,b]=(0,i.useState)("believer"),[k,C]=(0,i.useState)(!0),[I,P]=(0,i.useState)(""),[E,L]=(0,i.useState)(4),[W,N]=(0,i.useState)(""),[K,_]=(0,i.useState)(""),[M,U]=(0,i.useState)(""),[q,J]=(0,i.useState)(""),[G,F]=(0,i.useState)(!1),[H,$]=(0,i.useState)([]),[V,Y]=(0,i.useState)(!1),[Q,X]=(0,i.useState)(""),[ee,et]=(0,i.useState)({open:!1,title:"",message:"",confirmAction:()=>{}});(0,i.useEffect)(()=>{let e=function(){try{{let e=localStorage.getItem("prayerSettings");if(e)return JSON.parse(e)}}catch(e){console.error("설정 불러오기 중 오류 발생:",e)}return{apiKey:"",model:"gpt-4.1"}}();e&&(e.apiKey&&t(e.apiKey),e.model&&f(e.model));let n=function(){{let e=localStorage.getItem("savedPrayers");return e?JSON.parse(e):[]}}();n&&n.length>0&&$(n)},[]),(0,i.useEffect)(()=>{(e||n)&&B({apiKey:e,model:n})},[e,n]);let en=async t=>{t.preventDefault(),et({open:!0,title:"기도문 생성",message:"입력하신 내용으로 기도문을 생성하시겠습니까?",confirmAction:async()=>{et(e=>({...e,open:!1})),U(""),F(!0);try{let t=await z(e,{serviceType:v,usePrayerStructure:k,style:Z,audience:S,specialNotes:I,length:E,model:n});N(t),J("기도문이 생성되었습니다."),setTimeout(()=>J(""),3e3)}catch(e){U(e instanceof Error?e.message:"기도문 생성 중 오류가 발생했습니다.")}finally{F(!1)}}})},ea=async()=>{try{let e=await D(W);!function(e){new Audio("data:audio/mp3;base64,".concat(e)).play()}(e)}catch(e){U(e instanceof Error?e.message:"음성 변환 중 오류가 발생했습니다.")}},ei=async()=>{try{await A({prayer:W,serviceType:v,style:Z,audience:S,length:E})&&(J("Word 파일이 저장되었습니다."),setTimeout(()=>J(""),3e3))}catch(e){U("Word 파일 저장 중 오류가 발생했습니다."),setTimeout(()=>U(""),3e3)}},er=e=>{et({open:!0,title:"기도문 삭제",message:"선택한 기도문을 삭제하시겠습니까?",confirmAction:()=>{!function(e){{let t=localStorage.getItem("savedPrayers");if(t){let n=JSON.parse(t).filter(t=>t.id!==e);localStorage.setItem("savedPrayers",JSON.stringify(n))}}}(e),$(t=>t.filter(t=>t.id!==e)),J("기도문이 삭제되었습니다."),setTimeout(()=>J(""),3e3),et(e=>({...e,open:!1}))}})};return(0,a.jsxs)(r.Z,{maxWidth:"md",children:[(0,a.jsxs)(l.Z,{elevation:3,sx:{my:4,p:4},children:[(0,a.jsx)(s.Z,{variant:"h4",component:"h1",gutterBottom:!0,align:"center",children:"기도문 작성 프로그램"}),(0,a.jsxs)(o.Z,{sx:{display:"flex",gap:2,alignItems:"center"},children:[(0,a.jsx)(c.Z,{sx:{flex:1,"& .MuiInputBase-root":{height:40}},label:"API Key",type:"password",value:e,onChange:e=>t(e.target.value),margin:"normal",required:!0,size:"small"}),(0,a.jsx)(d.Z,{variant:"contained",color:"primary",onClick:()=>{e&&et({open:!0,title:"API Key 저장",message:"API Key를 저장하시겠습니까?",confirmAction:()=>{B({apiKey:e,model:n}),J("API Key가 저장되었습니다."),setTimeout(()=>J(""),3e3),et(e=>({...e,open:!1}))}})},sx:{height:40,mt:"8px"},children:"저장"}),(0,a.jsxs)(u.Z,{sx:{minWidth:200,"& .MuiInputBase-root":{height:40}},margin:"normal",size:"small",children:[(0,a.jsx)(h.Z,{children:"API 모델"}),(0,a.jsxs)(m.Z,{value:n,label:"API 모델",onChange:e=>f(e.target.value),required:!0,children:[(0,a.jsx)(p.Z,{value:"gpt-4.1",children:"GPT-4.1"}),(0,a.jsx)(p.Z,{value:"gpt-4.1-mini",children:"GPT-4.1-mini"})]})]})]}),q&&(0,a.jsx)(g.Z,{severity:"success",sx:{mt:2},children:q})]}),(0,a.jsxs)(l.Z,{elevation:3,sx:{my:4,p:4},children:[(0,a.jsx)(s.Z,{variant:"h5",component:"h2",gutterBottom:!0,children:"기도문 작성"}),(0,a.jsxs)(o.Z,{component:"form",onSubmit:en,children:[M&&(0,a.jsx)(g.Z,{severity:"error",sx:{mt:2,mb:2},children:M}),(0,a.jsxs)(o.Z,{sx:{display:"flex",gap:2,mb:2,alignItems:"center"},children:[(0,a.jsxs)(u.Z,{sx:{flex:1,"& .MuiInputBase-root":{height:40}},size:"small",children:[(0,a.jsx)(h.Z,{children:"예배 종류"}),(0,a.jsxs)(m.Z,{value:v,label:"예배 종류",onChange:e=>j(e.target.value),required:!0,children:[(0,a.jsx)(p.Z,{value:"sunday",children:"주일예배"}),(0,a.jsx)(p.Z,{value:"dawn",children:"새벽예배"}),(0,a.jsx)(p.Z,{value:"afternoon",children:"오후예배"}),(0,a.jsx)(p.Z,{value:"wednesday",children:"수요예배"}),(0,a.jsx)(p.Z,{value:"friday",children:"금요기도회"}),(0,a.jsx)(p.Z,{value:"christmas",children:"성탄절"}),(0,a.jsx)(p.Z,{value:"easter",children:"부활절"}),(0,a.jsx)(p.Z,{value:"thanksgiving",children:"추수감사절"})]})]}),(0,a.jsxs)(u.Z,{sx:{flex:1,"& .MuiInputBase-root":{height:40}},size:"small",children:[(0,a.jsx)(h.Z,{children:"스타일"}),(0,a.jsxs)(m.Z,{value:Z,label:"스타일",onChange:e=>w(e.target.value),required:!0,children:[(0,a.jsx)(p.Z,{value:"traditional",children:"전통적"}),(0,a.jsx)(p.Z,{value:"modern",children:"현대적"}),(0,a.jsx)(p.Z,{value:"literary",children:"문학적"})]})]}),(0,a.jsxs)(u.Z,{sx:{flex:1,"& .MuiInputBase-root":{height:40}},size:"small",children:[(0,a.jsx)(h.Z,{children:"대상자"}),(0,a.jsxs)(m.Z,{value:S,label:"대상자",onChange:e=>b(e.target.value),required:!0,children:[(0,a.jsx)(p.Z,{value:"believer",children:"성도"}),(0,a.jsx)(p.Z,{value:"pastor",children:"목회자"}),(0,a.jsx)(p.Z,{value:"elder",children:"장로"}),(0,a.jsx)(p.Z,{value:"children",children:"어린이"}),(0,a.jsx)(p.Z,{value:"youth",children:"청소년"}),(0,a.jsx)(p.Z,{value:"youngAdult",children:"청년"}),(0,a.jsx)(p.Z,{value:"adult",children:"장년"})]})]}),(0,a.jsxs)(u.Z,{sx:{width:90},children:[(0,a.jsx)(s.Z,{variant:"caption",gutterBottom:!0,children:"기도 순서 구조"}),(0,a.jsx)(o.Z,{sx:{display:"flex",alignItems:"center"},children:(0,a.jsx)(x.Z,{checked:k,onChange:e=>C(e.target.checked),size:"small"})})]}),(0,a.jsxs)(u.Z,{sx:{width:90},children:[(0,a.jsx)(s.Z,{variant:"caption",gutterBottom:!0,children:"기도문 길이(분)"}),(0,a.jsx)(y.ZP,{value:E,onChange:(e,t)=>L(t),min:1,max:7,step:1,marks:!0,valueLabelDisplay:"auto",size:"small"})]}),(0,a.jsx)(d.Z,{type:"submit",variant:"contained",disabled:G,size:"medium",sx:{height:40,whiteSpace:"nowrap"},children:G?"생성 중...":"기도문 생성"})]}),(0,a.jsx)(c.Z,{fullWidth:!0,label:"특이 사항",value:I,onChange:e=>P(e.target.value),margin:"normal",multiline:!0,rows:3})]})]}),W&&(0,a.jsxs)(l.Z,{elevation:3,sx:{my:4,p:4},children:[(0,a.jsx)(s.Z,{variant:"h5",component:"h2",gutterBottom:!0,children:"기도문 출력/수정"}),(0,a.jsx)(T,{prayer:W,onEdit:()=>{},onSave:e=>{N(e)},onPrint:()=>{!function(e){let{prayer:t,serviceType:n,style:a,audience:i,length:r}=e,l=new Date().toLocaleDateString(),s="".concat(l," | ").concat({sunday:"주일예배",dawn:"새벽예배",afternoon:"오후예배",wednesday:"수요예배",friday:"금요기도회",christmas:"성탄절",easter:"부활절",thanksgiving:"추수감사절"}[n]," | ").concat({traditional:"전통적",modern:"현대적",literary:"문학적"}[a]," | ").concat({believer:"성도",pastor:"목회자",elder:"장로",children:"어린이",youth:"청소년",youngAdult:"청년",adult:"장년"}[i]," | ").concat(r,"분"),o='\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <meta charset="UTF-8">\n      <title>'.concat(s,'</title>\n      <style>\n        @media print {\n          @page {\n            margin: 2.54cm;\n          }\n        }\n        body {\n          font-family: "바탕", Batang, serif;\n          line-height: 1.8;\n          margin: 0;\n          padding: 20px;\n        }\n        .filename {\n          font-size: 14pt;\n          margin-bottom: 30px;\n          text-align: center;\n          border-bottom: 1px solid #000;\n          padding-bottom: 10px;\n        }\n        .prayer {\n          white-space: pre-wrap;\n          font-size: 12pt;\n        }\n      </style>\n    </head>\n    <body>\n      <div class="filename">').concat(s,'</div>\n      <div class="prayer">').concat(t,"</div>\n    </body>\n    </html>\n  "),c=window.open("","_blank","width=800,height=600");c&&(c.document.write(o),c.document.close(),c.onload=function(){c.print()})}({prayer:W,serviceType:v,style:Z,audience:S,length:E})},onSaveToWord:ei,onTTS:ea,onSaveToPrayerList:()=>{let e={id:new Date().getTime().toString(),date:new Date().toISOString(),serviceType:v,style:Z,audience:S,length:E,content:W},t=H.find(t=>new Date(t.date).toLocaleDateString()===new Date(e.date).toLocaleDateString()&&t.serviceType===e.serviceType&&t.style===e.style&&t.audience===e.audience&&t.length===e.length);t?et({open:!0,title:"기도문 수정",message:"동일한 파일명의 기도문이 있습니다. 기존 기도문을 수정하시겠습니까?",confirmAction:()=>{let n={...e,id:t.id};O(n),$(e=>e.map(e=>e.id===t.id?n:e)),J("기도문이 수정되었습니다."),setTimeout(()=>J(""),3e3),et(e=>({...e,open:!1}))}}):et({open:!0,title:"기도문 저장",message:"현재 기도문을 저장하시겠습니까?",confirmAction:()=>{O(e),$(t=>[e,...t]),J("기도문이 저장되었습니다."),setTimeout(()=>J(""),3e3),et(e=>({...e,open:!1}))}})}})]}),H.length>0&&(0,a.jsxs)(l.Z,{elevation:3,sx:{my:4,p:4},children:[(0,a.jsx)(s.Z,{variant:"h5",component:"h2",gutterBottom:!0,children:"저장된 기도문 관리"}),(0,a.jsx)(o.Z,{children:H.sort((e,t)=>new Date(t.date).getTime()-new Date(e.date).getTime()).map(e=>(0,a.jsx)(l.Z,{elevation:1,sx:{p:.1,mb:.1,"&:last-child":{mb:0}},children:(0,a.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,a.jsxs)(s.Z,{variant:"subtitle2",onClick:()=>{N(e.content),j(e.serviceType),w(e.style),b(e.audience),L(e.length),window.scrollTo({top:0,behavior:"smooth"})},sx:{cursor:"pointer","&:hover":{color:"primary.main",textDecoration:"underline"},flex:1,mr:2},children:[new Date(e.date).toLocaleDateString()," | ",{sunday:"주일예배",dawn:"새벽예배",afternoon:"오후예배",wednesday:"수요예배",friday:"금요기도회",christmas:"성탄절",easter:"부활절",thanksgiving:"추수감사절"}[e.serviceType]," | ",{traditional:"전통적",modern:"현대적",literary:"문학적",emotional:"감성적",creative:"창조적"}[e.style]," | ",{believer:"성도",children:"어린이",youth:"청소년",youngAdult:"청년",patient:"환자",funeral:"장례",wedding:"결혼",business:"개업",hospital:"병원"}[e.audience]," | ",e.length,"분"]}),(0,a.jsx)(d.Z,{size:"small",variant:"outlined",color:"error",onClick:()=>er(e.id),children:"삭제"})]})},e.id))})]}),(0,a.jsx)(R,{open:ee.open,title:ee.title,message:ee.message,onConfirm:ee.confirmAction,onCancel:()=>et(e=>({...e,open:!1}))})]})}}},function(e){e.O(0,[800,498,971,117,744],function(){return e(e.s=492)}),_N_E=e.O()}]);